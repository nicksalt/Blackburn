<ion-header>
  <ion-navbar color="primary">
    <ion-title (click)="test()">Chat</ion-title>
    <ion-buttons end>
      <button ion-button icon-only (click)="presentPopover($event)">
        <ion-icon name="more"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>
<ion-content  padding>

  <ion-list ontimeupdate="this.test2();" id="chat-list" >
  <ion-item onchange="test2()" class="chat-item" no-lines text-wrap *ngFor="let message of messageItem$ | async">
    <div [ngClass]="message.id == newMessage.id ? 'user' : 'other'">
    <span></span>
    <div class="bubble">

      <h3 [ngStyle]="{'color':getColor(message.id)}">{{message.name}}</h3>
      <p>{{message.message}}</p>
    </div>
    <h6>{{timeToDate(message.time)}}</h6>
    </div>
  </ion-item>
  </ion-list>
</ion-content>
<ion-footer no-border>
 <ion-row no-lines id="compose">
   <ion-col>
  <ion-textarea (input)="adjustTextarea($event);" id="text" placeholder="Message" [(ngModel)]="newMessage.message"></ion-textarea>
   </ion-col>
   <ion-col col-auto id="button">
  <button ion-button icon-only item-right (click)="send()">
    <ion-icon name="send"></ion-icon>
  </button>
   </ion-col>
 </ion-row>
</ion-footer>
